# Node.js + Nginx + MySQL Docker Application

–ü–æ–≤–Ω–∏–π —Å—Ç–µ–∫ –≤–µ–±-–∑–∞—Å—Ç–æ—Å—É–Ω–∫—É –∑ Node.js backend, Nginx reverse proxy —Ç–∞ MySQL –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö, containerized –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é Docker Compose.


##  –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞

–ó–∞—Å—Ç–æ—Å—É–Ω–æ–∫ —Å–∫–ª–∞–¥–∞—î—Ç—å—Å—è –∑ —Ç—Ä—å–æ—Ö –æ—Å–Ω–æ–≤–Ω–∏—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤:

```

    –ö–ª—ñ—î–Ω—Ç    

       ‚îÇ
       ‚ñº
 
     Nginx    ‚îÇ :81
   (Reverse    
     Proxy)    
 
       ‚îÇ
       ‚ñº

    Node.js   ‚îÇ :3000
    Backend    

       ‚îÇ
       ‚ñº

     MySQL    ‚îÇ :3306
    Database  

```

## –°–µ—Ä–≤—ñ—Å–∏:

- **Nginx** - –≤–µ–±-—Å–µ—Ä–≤–µ—Ä —Ç–∞ reverse proxy, –æ–±—Ä–æ–±–ª—è—î —Å—Ç–∞—Ç–∏—á–Ω—ñ —Ñ–∞–π–ª–∏ —Ç–∞ –ø—Ä–æ–∫—Å—É—î –∑–∞–ø–∏—Ç–∏ –¥–æ Node.js
- **Node.js** - backend –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫, –æ–±—Ä–æ–±–ª—è—î API –∑–∞–ø–∏—Ç–∏
- **MySQL** - —Ä–µ–ª—è—Ü—ñ–π–Ω–∞ –±–∞–∑–∞ –¥–∞–Ω–∏—Ö –∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é UTF-8

##  –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó

- **Docker** & **Docker Compose** - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü—ñ—è
- **Node.js** - JavaScript runtime –¥–ª—è backend
- **Nginx** - –≤–µ–±-—Å–µ—Ä–≤–µ—Ä —Ç–∞ reverse proxy
- **MySQL 5.7** - —Ä–µ–ª—è—Ü—ñ–π–Ω–∞ –±–∞–∑–∞ –¥–∞–Ω–∏—Ö

##  –ü–µ—Ä–µ–¥—É–º–æ–≤–∏

–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –ø–µ—Ä–µ–∫–æ–Ω–∞–π—Å—è, —â–æ —É —Ç–µ–±–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ:

- [Docker](https://docs.docker.com/get-docker/) (–≤–µ—Ä—Å—ñ—è 20.10+)
- [Docker Compose](https://docs.docker.com/compose/install/) (–≤–µ—Ä—Å—ñ—è 1.29+)

–ü–µ—Ä–µ–≤—ñ—Ä –≤–µ—Ä—Å—ñ—ó:
```bash
docker --version
docker compose --version
```

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### 1. –ö–ª–æ–Ω—É–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π

```bash
git clone <url>
cd <nodeserver>
```

### 2. –°—Ç–≤–æ—Ä–∏ `.env` —Ñ–∞–π–ª

–°—Ç–≤–æ—Ä–∏ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–µ–Ω—ñ –ø—Ä–æ—î–∫—Ç—É –∑ –Ω–∞—Å—Ç—É–ø–Ω–∏–º–∏ –∑–º—ñ–Ω–Ω–∏–º–∏:

```env
# MySQL Root Password
MYSQL_ROOT_PASSWORD=your_strong_root_password

# Database Configuration
MY_DB=your_database_name
DB_USER=your_db_user
DB_PASSWORD=your_db_password
DB_HOST=mysql
```

*** –ù—ñ–∫–æ–ª–∏ –Ω–µ –∫–æ–º—ñ—Ç—å `.env` —Ñ–∞–π–ª —É Git! –î–æ–¥–∞–π –π–æ–≥–æ –≤ `.gitignore`.

### 3. –ü—ñ–¥–≥–æ—Ç—É–π —Ñ–∞–π–ª–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó

–ü–µ—Ä–µ–∫–æ–Ω–∞–π—Å—è, —â–æ —É —Ç–µ–±–µ —î:

- `dockerfile` - Dockerfile –¥–ª—è Node.js –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É
- `./app-files/` - –∫–æ–¥ Node.js Back-end-—É —Ç–∞ JS+HTML Frond-End-—É –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É 
- `./nginxconf/` - –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π–Ω—ñ —Ñ–∞–π–ª–∏ Nginx
- `./init.sql` - SQL —Å–∫—Ä–∏–ø—Ç —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó –±–∞–∑–∏ –¥–∞–Ω–∏—Ö (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)

### 4. –ó–∞–ø—É—Å—Ç–∏ –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫

```bash
# –ó–±—É–¥—É–π —Ç–∞ –∑–∞–ø—É—Å—Ç–∏ –≤—Å—ñ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏
docker compose up -d

# –ü–µ—Ä–µ–≤—ñ—Ä —Å—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤
docker compose ps

# –ü–æ–¥–∏–≤–∏—Å—å –ª–æ–≥–∏
docker compose logs -f
```

### 5. –ü–µ—Ä–µ–≤—ñ—Ä —Ä–æ–±–æ—Ç—É

- **–í–µ–±-–∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫:** http://localhost:81
- **API health check:** http://localhost:81/api/test-db


### Volumes

- `mysql-node:/var/lib/mysql` - –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–µ —Å—Ö–æ–≤–∏—â–µ –¥–∞–Ω–∏—Ö MySQL
- `./app-files/` - –∫–æ–¥ Node.js Back-end-—É —Ç–∞ JS+HTML Frond-End-—É –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É
- `./nginxconf/` - –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è Nginx
- `./init.sql` - SQL —Å–∫—Ä–∏–ø—Ç —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó

##  –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É

```
project/
‚îú‚îÄ‚îÄ docker-compose.yml          # –ì–æ–ª–æ–≤–Ω–∏–π —Ñ–∞–π–ª Docker Compose
‚îú‚îÄ‚îÄ dockerfile                  # Dockerfile –¥–ª—è Node.js
‚îú‚îÄ‚îÄ .env                        # –ó–º—ñ–Ω–Ω—ñ –æ—Ç–æ—á–µ–Ω–Ω—è (–ù–ï –∫–æ–º—ñ—Ç—å!)
‚îú‚îÄ‚îÄ init.sql                    # SQL —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è
‚îú‚îÄ‚îÄ app-files/                  # Node.js –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫
‚îÇ   ‚îú‚îÄ‚îÄ package.json
‚îÇ   ‚îú‚îÄ‚îÄ index.js
‚îÇ   ‚îî‚îÄ‚îÄ static-files/          # –°—Ç–∞—Ç–∏—á–Ω—ñ —Ñ–∞–π–ª–∏ (HTML, CSS, JS, images)
‚îî‚îÄ‚îÄ nginxconf/                  # Nginx –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
    ‚îî‚îÄ‚îÄ default.conf
```

## –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –∑–∞–ø—É—Å–∫—É

MySQL (healthy) ‚Üí Node.js (healthy) ‚Üí Nginx

–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏ –∑–∞–ø—É—Å–∫–∞—é—Ç—å—Å—è –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É –ø–æ—Ä—è–¥–∫—É –∑–∞–≤–¥—è–∫–∏ `depends_on` —Ç–∞ `condition: service_healthy`.

##  –ú–µ—Ä–µ–∂—ñ

–ó–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –¥–≤—ñ —ñ–∑–æ–ª—å–æ–≤–∞–Ω—ñ –º–µ—Ä–µ–∂—ñ:

backend_net : 
- –ó'—î–¥–Ω—É—î: Node.js ‚Üî MySQL
- –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è: –ë–µ–∑–ø–µ—á–Ω–∞ –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—è –º—ñ–∂ backend —Ç–∞ –ë–î

frontend_net :
- –ó'—î–¥–Ω—É—î: Nginx ‚Üî Node.js
- –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è: –û–±—Ä–æ–±–∫–∞ –∫–ª—ñ—î–Ω—Ç—Å—å–∫–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤

–¶–µ –∑–∞–±–µ–∑–ø–µ—á—É—î –¥–æ–¥–∞—Ç–∫–æ–≤–∏–π —Ä—ñ–≤–µ–Ω—å –±–µ–∑–ø–µ–∫–∏ - MySQL –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ –Ω–∞–ø—Ä—è–º—É –∑ –∑–æ–≤–Ω—ñ—à–Ω—å–æ—ó –º–µ—Ä–µ–∂—ñ.


## –ë–µ–∑–ø–µ–∫–∞

- MySQL –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç—ñ–ª—å–∫–∏ —á–µ—Ä–µ–∑ –≤–Ω—É—Ç—Ä—ñ—à–Ω—é –º–µ—Ä–µ–∂—É
- Node.js API –¥–æ—Å—Ç—É–ø–Ω–∏–π —Ç—ñ–ª—å–∫–∏ —á–µ—Ä–µ–∑ Nginx
- –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `.env` –¥–ª—è —á—É—Ç–ª–∏–≤–∏—Ö –¥–∞–Ω–∏—Ö
- Nginx –∫–æ–Ω—Ñ—ñ–≥–∏ readonly mount
- –ó–º—ñ–Ω–∏—Ç–∏ –¥–µ—Ñ–æ–ª—Ç–Ω—ñ –ø–∞—Ä–æ–ª—ñ –ø–µ—Ä–µ–¥ production
- –í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ HTTPS –≤ production (–¥–æ–¥–∞—Ç–∏ SSL —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∏)

